{% extends "base.html" %}
{% load i18n %}
{% load socialaccount %}
{% block title %}
    {% if process == "connect" %}
        {% trans "Connect Google Account" %}
    {% else %}
        {% trans "Sign In" %}
    {% endif %}
{% endblock %}
{% block content %}
    {% if process == "connect" %}
        <div class="social-connections-container">
            <div class="connections-section">
                <h3>{% trans "Connect Google Account" %}</h3>
                <p class="signin-message">{% trans "You are about to connect your Google account to your modmixx profile." %}</p>
                <form method="post">
                    {% csrf_token %}
                    <button type="submit" class="google-btn">
                        <i class="fab fa-google"></i>
                        Sign in with Google
                    </button>
                </form>
            </div>
            <button type="button" class="close-btn" onclick="window.close();">Close Window</button>
        </div>
    {% else %}
        <div class="social-login-container"
             style="max-width: 400px;
                    margin: 40px auto;
                    padding: 2.5rem 2rem;
                    background: #fff;
                    border-radius: 16px;
                    box-shadow: 0 4px 24px rgba(36,52,60,0.08)">
            <div style="text-align:center; margin-bottom: 1.5em;">
                <a href="/" class="menu-link" style="margin-right: 1em;">Home</a>
                <a href="{% url 'account_signup' %}"
                   class="menu-link"
                   style="margin-right: 1em">Sign Up</a>
                <a href="{% url 'account_login' %}" class="menu-link">Sign In</a>
            </div>
            <p class="signin-message" style="text-align:center; margin-bottom: 2em;">
                You are about to sign in using a third-party account from Google.
            </p>
            <form method="post"
                  style="display: flex;
                         justify-content: center">
                {% csrf_token %}
                <button type="submit" class="google-btn">
                    <i class="fab fa-google"></i>
                    Continue with Google
                </button>
            </form>
        </div>
    {% endif %}
{% endblock %}
